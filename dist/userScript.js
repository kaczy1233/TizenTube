!function(){"use strict";function e(){e=function(){return t};var t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof p?t:p,a=Object.create(r.prototype),l=new T(o||[]);return i(a,"_invoke",{value:k(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m={};function p(){}function f(){}function h(){}var v={};c(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==n&&o.call(y,a)&&(v=y);var b=h.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,r,a,l){var s=d(e[i],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(s.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function k(e,t,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return N()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var l=E(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=d(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=d(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=h,i(b,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:f,configurable:!0}),f.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},w(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new S(u(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),c(b,s,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var l=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(l&&s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}function t(e,t,n,o,i,r,a){try{var l=e[r](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,i)}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}!function(e){function t(e){return void 0===e?0:Number(e)}function n(e,t){return e!==t&&!(isNaN(e)&&isNaN(t))}self.DOMRect=function(e,o,i,r){var a,l,s,c,u,d,m,p;a=t(e),l=t(o),s=t(i),c=t(r),Object.defineProperties(this,{x:{get:function(){return a},set:function(e){n(a,e)&&(a=e,u=d=void 0)},enumerable:!0},y:{get:function(){return l},set:function(e){n(l,e)&&(l=e,m=p=void 0)},enumerable:!0},width:{get:function(){return s},set:function(e){n(s,e)&&(s=e,u=d=void 0)},enumerable:!0},height:{get:function(){return c},set:function(e){n(c,e)&&(c=e,m=p=void 0)},enumerable:!0},left:{get:function(){return void 0===u&&(u=a+Math.min(0,s)),u},enumerable:!0},right:{get:function(){return void 0===d&&(d=a+Math.max(0,s)),d},enumerable:!0},top:{get:function(){return void 0===m&&(m=l+Math.min(0,c)),m},enumerable:!0},bottom:{get:function(){return void 0===p&&(p=l+Math.max(0,c)),p},enumerable:!0}})}}();var l,s="ytaf-configuration",c={enableAdBlock:!0,enableSponsorBlock:!0,sponsorBlockManualSkips:[],enableSponsorBlockSponsor:!0,enableSponsorBlockIntro:!0,enableSponsorBlockOutro:!0,enableSponsorBlockInteraction:!0,enableSponsorBlockSelfPromo:!0,enableSponsorBlockMusicOfftopic:!0,videoSpeed:1,enableDeArrow:!0,enableDeArrowThumbnails:!1,focusContainerColor:"#0f0f0f",routeColor:"#0f0f0f",enableFixedUI:!0,enableHqThumbnails:!0,enableChapters:!0,enableLongPress:!0,enableShorts:!0,enableBackgroundMusic:!0};try{l=JSON.parse(window.localStorage[s])}catch(e){console.warn("Config read failed:",e),l=c}function u(e){return void 0===l[e]&&(console.warn("Populating key",e,"with default value",c[e]),l[e]=c[e]),l[e]}function d(e,t){console.info("Setting key",e,"to",t),l[e]=t,window.localStorage[s]=JSON.stringify(l)}function m(e,t,n,o,i){return{title:{simpleText:e},startMillis:t,durationMillis:n,thumbnailDetails:{thumbnails:[{url:`https://i.ytimg.com/vi/${o}/hqdefault.jpg`,width:320,height:180}]},onActive:{innertubeCommand:{clickTrackingParams:null,entityUpdateCommand:{entityBatchUpdate:{mutations:[{entityKey:`${o}${t}${n}`,type:"ENTITY_MUTATION_TYPE_REPLACE",payload:{markersEngagementPanelSyncEntity:{key:`${o}${t}${n}`,panelId:"engagement-panel-macro-markers-description-chapters",activeItemIndex:i,syncEnabled:!0}}}]}}}}}}function p(e){for(var t=e.contents.singleColumnWatchNextResults.results.results.contents[0].itemSectionRenderer.contents[0].videoMetadataRenderer.videoId,n=function(e){for(var t=e.trim().split("\n"),n=[],o=/^\d+:\d{2}/,i=0;i<t.length;i++){var r=t[i],a=r.match(o);if(a){var l=a[0],s=r.split(" ");s.shift();var c=l.split(":"),u=1e3*(60*parseInt(c[0],10)+parseInt(c[1],10)),d=s.join(" ");n.push({time:u,name:d})}}return n}(e.contents.singleColumnWatchNextResults.results.results.contents[0].itemSectionRenderer.contents[0].videoMetadataRenderer.description.runs[0].text),o=1e3*document.getElementsByTagName("video")[0].duration,i=[],r=0;r<n.length;r++){var a=n[r],l=n[r+1],s=l?l.time-a.time:o-a.time;i.push(m(a.name,String(a.time),String(s),t,r))}var c=function(e,t){return{entityKey:`${e}-key`,type:"ENTITY_MUTATION_TYPE_REPLACE",payload:{macroMarkersListEntity:{key:`${e}-key`,externalVideoId:e,markersList:{markerType:"MARKER_TYPE_CHAPTERS",markers:t,headerTitle:{runs:[{text:"Chapters"}]},onTap:{innertubeCommand:{clickTrackingParams:null,changeEngagementPanelVisibilityAction:{targetId:"engagement-panel-macro-markers-description-chapters",visibility:"ENGAGEMENT_PANEL_VISIBILITY_EXPANDED"}}},markersEdu:{enterNudgeText:{runs:[{text:"To view chapters, press the up arrow button"}]},enterNudgeA11yText:"To view chapters, press the up arrow button",navNudgeText:{runs:[{text:"Navigate between chapters"}]},navNudgeA11yText:"Press the left or right arrow button to navigate between chapters"},loggingDirectives:{trackingParams:null,enableDisplayloggerExperiment:!0}}}}}}(t,i);return c}function f(e,t,n){var o={openPopupAction:{popupType:"TOAST",popup:{overlayToastRenderer:{title:{simpleText:e},subtitle:{simpleText:t}}}}};n&&(o.openPopupAction.popup.overlayToastRenderer.image.thumbnails=n),b(o)}function h(e,t,n,o,i){var r={openPopupAction:{popupType:"MODAL",popup:{overlaySectionRenderer:{overlay:{overlayTwoPanelRenderer:{actionPanel:{overlayPanelRenderer:{header:{overlayPanelHeaderRenderer:{title:{simpleText:e}}},content:{overlayPanelItemListRenderer:{items:t,selectedIndex:n}}}},backButton:{buttonRenderer:{accessibilityData:{accessibilityData:{label:"Back"}},command:{signalAction:{signal:"POPUP_BACK"}}}}}},dismissalCommand:{signalAction:{signal:"POPUP_BACK"}}}},uniqueId:o}};i&&(r.openPopupAction.shouldMatchUniqueId=!0,r.openPopupAction.updateAction=!0),b(r)}function v(e,t,n){var o={compactLinkRenderer:{serviceEndpoint:{commandExecutorCommand:{commands:n}}}};return e&&(o.compactLinkRenderer.title={simpleText:e.title}),e.subtitle&&(o.compactLinkRenderer.subtitle={simpleText:e.subtitle}),t&&(o.compactLinkRenderer.icon={iconType:t.icon}),t&&t.secondaryIcon&&(o.compactLinkRenderer.secondaryIcon={iconType:t.secondaryIcon}),o}function g(e){return{clickTrackingParams:null,showMenuCommand:{contentId:e.videoId,thumbnail:{thumbnails:e.thumbnails},title:{simpleText:e.title},subtitle:{simpleText:e.subtitle},menu:{menuRenderer:{items:[{menuNavigationItemRenderer:{text:{runs:[{text:"Play"}]},navigationEndpoint:{clickTrackingParams:null,watchEndpoint:e.watchEndpointData},trackingParams:null}},{menuServiceItemRenderer:{text:{runs:[{text:"Save to Watch Later"}]},serviceEndpoint:{clickTrackingParams:null,playlistEditEndpoint:{playlistId:"WL",actions:[{addedVideoId:e.videoId,action:"ACTION_ADD_VIDEO"}]}},trackingParams:null}},{menuNavigationItemRenderer:{text:{runs:[{text:"Save to playlist"}]},navigationEndpoint:{clickTrackingParams:null,addToPlaylistEndpoint:{videoId:e.videoId}},trackingParams:null}}],trackingParams:null,accessibility:{accessibilityData:{label:"Video options"}}}}}}}function y(e,t){for(var n=[],o=0,i=0,r=[{name:"Enable background music",icon:"PLAY_CIRCLE",value:"enableBackgroundMusic"},{name:"Ad block",icon:"DOLLAR_SIGN",value:"enableAdBlock"},{name:"SponsorBlock",icon:"MONEY_HAND",value:"enableSponsorBlock"},{name:"Manual SponsorBlock Segment Skip",icon:"DOLLAR_SIGN",value:null,options:[{name:"Skip Sponsor Segments",icon:"MONEY_HEART",value:"sponsor"},{name:"Skip Intro Segments",icon:"PLAY_CIRCLE",value:"intro"},{name:"Skip Outro Segments",value:"outro"},{name:"Skip Interaction Reminder Segments",value:"interaction"},{name:"Skip Self-Promotion Segments",value:"selfpromo"},{name:"Skip Off-Topic Music Segments",value:"music_offtopic"}]},{name:"Skip Sponsor Segments",icon:"MONEY_HEART",value:"enableSponsorBlockSponsor"},{name:"Skip Intro Segments",icon:"PLAY_CIRCLE",value:"enableSponsorBlockIntro"},{name:"Skip Outro Segments",value:"enableSponsorBlockOutro"},{name:"Skip Interaction Reminder Segments",value:"enableSponsorBlockInteraction"},{name:"Skip Self-Promotion Segments",value:"enableSponsorBlockSelfPromo"},{name:"Skip Off-Topic Music Segments",value:"enableSponsorBlockMusicOfftopic"},{name:"DeArrow",icon:"VISIBILITY_OFF",value:"enableDeArrow"},{name:"DeArrow Thumbnails",icon:"TV",value:"enableDeArrowThumbnails"},{name:"Fix UI",icon:"STAR",value:"enableFixedUI"},{name:"High Quality Thumbnails",icon:"VIDEO_QUALITY",value:"enableHqThumbnails"},{name:"Chapters",icon:"BOOKMARK_BORDER",value:"enableChapters"},{name:"Long Press",value:"enableLongPress"},{name:"Shorts",icon:"YOUTUBE_SHORTS_FILL_24",value:"enableShorts"}];i<r.length;i++){var a=r[i],l=a.value?u(a.value):null;n.push(v({title:a.name,subtitle:a.subtitle},{icon:a.icon?a.icon:"CHEVRON_DOWN",secondaryIcon:null===l?"CHEVRON_RIGHT":l?"CHECK_BOX":"CHECK_BOX_OUTLINE_BLANK"},null!==l?[{setClientSettingEndpoint:{settingDatas:[{clientSettingEnum:{item:a.value},boolValue:!u(a.value)}]}},{customAction:{action:"SETTINGS_UPDATE",parameters:[o]}}]:[{customAction:{action:"OPTIONS_SHOW",parameters:{options:a.options,selectedIndex:0,update:!1}}}])),o++}h("TizenTubeZx Settings",n,t&&t.length>0?t[0]:0,"tt-settings",e)}function b(e,t){for(var n in window._yttv)if(window._yttv[n]&&window._yttv[n].instance&&window._yttv[n].instance.resolveCommand)return window._yttv[n].instance.resolveCommand(e,t)}function w(e,t){switch(e){case"SETTINGS_UPDATE":y(!0,t);break;case"OPTIONS_SHOW":!function(e,t){var n,o=[],i=u("sponsorBlockManualSkips"),r=a(e.options);try{for(r.s();!(n=r.n()).done;){var l=n.value;o.push(v({title:l.name},{icon:l.icon?l.icon:"CHEVRON_DOWN",secondaryIcon:i.includes(l.value)?"CHECK_BOX":"CHECK_BOX_OUTLINE_BLANK"},[{setClientSettingEndpoint:{settingDatas:[{clientSettingEnum:{item:"sponsorBlockManualSkips"},arrayValue:l.value}]}},{customAction:{action:"OPTIONS_SHOW",parameters:{options:e.options,selectedIndex:e.options.indexOf(l),update:!0}}}]))}}catch(e){r.e(e)}finally{r.f()}h("TizenTube Settings",o,e.selectedIndex,"tt-settings-options",t)}(t,t.update);break;case"SKIP":var n=document.createEvent("Event");n.initEvent("keydown",!0,!0),n.keyCode=27,n.which=27,document.dispatchEvent(n),document.querySelector("video").currentTime=t.time}}var S=JSON.parse;function k(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.shelfRenderer&&(E(o.shelfRenderer.content.horizontalListRenderer.items),x(o.shelfRenderer.content.horizontalListRenderer.items),C(o.shelfRenderer.content.horizontalListRenderer.items))}}catch(e){n.e(e)}finally{n.f()}}function E(e){var t,n=a(e);try{var o=function(){var n=t.value;if(n.adSlotRenderer){var o=e.indexOf(n);return e.splice(o,1),"continue"}if(u("enableDeArrow")){var i=n.tileRenderer.contentId;fetch(`https://sponsor.ajay.app/api/branding?videoID=${i}`).then((e=>e.json())).then((e=>{if(e.titles.length>0){var t=e.titles.reduce(((e,t)=>e.votes>t.votes?e:t));n.tileRenderer.metadata.tileMetadataRenderer.title.simpleText=t.title}if(e.thumbnails.length>0&&u("enableDeArrowThumbnails")){var o=e.thumbnails.reduce(((e,t)=>e.votes>t.votes?e:t));o.timestamp&&(n.tileRenderer.header.tileHeaderRenderer.thumbnail.thumbnails=[{url:`https://dearrow-thumb.ajay.app/api/v1/getThumbnail?videoID=${i}&time=${o.timestamp}`,width:1280,height:640}])}}))}};for(n.s();!(t=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}}function x(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("TILE_STYLE_YTLR_DEFAULT"===o.tileRenderer.style&&u("enableHqThumbnails")){var i=o.tileRenderer.contentId,r=o.tileRenderer.header.tileHeaderRenderer.thumbnail.thumbnails[0].url.split("?")[1];o.tileRenderer.header.tileHeaderRenderer.thumbnail.thumbnails=[{url:`https://i.ytimg.com/vi/${i}/maxresdefault.jpg${r?`?${r}`:""}`,width:1280,height:720}]}}}catch(e){n.e(e)}finally{n.f()}}function C(e){if(u("enableLongPress")){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("TILE_STYLE_YTLR_DEFAULT"===o.tileRenderer.style&&!o.tileRenderer.onLongPressCommand){var i=o.tileRenderer.metadata.tileMetadataRenderer.lines[0].lineRenderer.items[0].lineItemRenderer.text,r=g({videoId:o.tileRenderer.contentId,thumbnails:o.tileRenderer.header.tileHeaderRenderer.thumbnail.thumbnails,title:o.tileRenderer.metadata.tileMetadataRenderer.title.simpleText,subtitle:i.runs?i.runs[0].text:i.simpleText,watchEndpointData:o.tileRenderer.onSelectCommand.watchEndpoint});o.tileRenderer.onLongPressCommand=r}}}catch(e){n.e(e)}finally{n.f()}}}JSON.parse=function(){var e,t,n,o,i,r,l,s,c,d,m,f,h,v=S.apply(this,arguments);if(v.adPlacements&&u("enableAdBlock")&&(v.adPlacements=[]),v.playerAds&&u("enableAdBlock")&&(v.playerAds=!1),v.adSlots&&u("enableAdBlock")&&(v.adSlots=[]),null!=v&&null!==(e=v.contents)&&void 0!==e&&null!==(e=e.tvBrowseRenderer)&&void 0!==e&&null!==(e=e.content)&&void 0!==e&&null!==(e=e.tvSurfaceContentRenderer)&&void 0!==e&&null!==(e=e.content)&&void 0!==e&&null!==(e=e.sectionListRenderer)&&void 0!==e&&e.contents&&u("enableAdBlock")&&(v.contents.tvBrowseRenderer.content.tvSurfaceContentRenderer.content.sectionListRenderer.contents=v.contents.tvBrowseRenderer.content.tvSurfaceContentRenderer.content.sectionListRenderer.contents.filter((e=>!e.adSlotRenderer))),null!=v&&null!==(t=v.contents)&&void 0!==t&&null!==(t=t.tvBrowseRenderer)&&void 0!==t&&null!==(t=t.content)&&void 0!==t&&null!==(t=t.tvSurfaceContentRenderer)&&void 0!==t&&null!==(t=t.content)&&void 0!==t&&null!==(t=t.sectionListRenderer)&&void 0!==t&&t.contents&&k(v.contents.tvBrowseRenderer.content.tvSurfaceContentRenderer.content.sectionListRenderer.contents),null!=v&&null!==(n=v.contents)&&void 0!==n&&null!==(n=n.sectionListRenderer)&&void 0!==n&&n.contents&&k(v.contents.sectionListRenderer.contents),null!=v&&null!==(o=v.continuationContents)&&void 0!==o&&null!==(o=o.sectionListContinuation)&&void 0!==o&&o.contents&&k(v.continuationContents.sectionListContinuation.contents),null!=v&&null!==(i=v.continuationContents)&&void 0!==i&&null!==(i=i.horizontalListContinuation)&&void 0!==i&&i.items&&(E(v.continuationContents.horizontalListContinuation.items),x(v.continuationContents.horizontalListContinuation.items),C(v.continuationContents.horizontalListContinuation.items)),!u("enableShorts")&&null!=v&&null!==(r=v.contents)&&void 0!==r&&null!==(r=r.tvBrowseRenderer)&&void 0!==r&&null!==(r=r.content)&&void 0!==r&&null!==(r=r.tvSurfaceContentRenderer)&&void 0!==r&&r.content&&(v.contents.tvBrowseRenderer.content.tvSurfaceContentRenderer.content.sectionListRenderer.contents=v.contents.tvBrowseRenderer.content.tvSurfaceContentRenderer.content.sectionListRenderer.contents.filter((e=>{var t;return"TVHTML5_SHELF_RENDERER_TYPE_SHORTS"!==(null===(t=e.shelfRenderer)||void 0===t?void 0:t.tvhtml5ShelfRendererType)}))),null!=v&&null!==(l=v.contents)&&void 0!==l&&null!==(l=l.singleColumnWatchNextResults)&&void 0!==l&&null!==(l=l.results)&&void 0!==l&&null!==(l=l.results)&&void 0!==l&&l.contents&&u("enableChapters")){var g=p(v);v.frameworkUpdates.entityBatchUpdate.mutations.push(g),b({clickTrackingParams:"null",loadMarkersCommand:{visibleOnLoadKeys:[g.entityKey],entityKeys:[g.entityKey]}})}if(u("sponsorBlockManualSkips").length>0&&null!=v&&null!==(s=v.playerOverlays)&&void 0!==s&&s.playerOverlayRenderer){var y,w=u("sponsorBlockManualSkips"),T=[];if(null!==(y=window)&&void 0!==y&&null!==(y=y.sponsorblock)&&void 0!==y&&y.segments){var P,N=a(window.sponsorblock.segments);try{for(N.s();!(P=N.n()).done;){var I=P.value;if(w.includes(I.category)){var R=(c=`Skip ${I.category}`,d="SKIP_NEXT",m={clickTrackingParams:null,showEngagementPanelEndpoint:{customAction:{action:"SKIP",parameters:{time:I.segment[1]}}}},f=1e3*I.segment[0],h=1e3*I.segment[1]-1e3*I.segment[0],{timelyActionRenderer:{actionButtons:[{buttonRenderer:{isDisabled:!1,text:{runs:[{text:c}]},icon:{iconType:d},trackingParams:null,command:m}}],triggerTimeMs:f,timeoutMs:h,type:""}});T.push(R)}}}catch(e){N.e(e)}finally{N.f()}v.playerOverlays.playerOverlayRenderer.timelyActionRenderers=T}}return v};var T=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var o,i,r=Math.pow,a=r(2,32),l="length",s="",c=[],u=8*t[l],d=e.h=e.h||[],m=e.k=e.k||[],p=m[l],f={},h=2;p<64;h++)if(!f[h]){for(o=0;o<313;o+=h)f[o]=h;d[p]=r(h,.5)*a|0,m[p++]=r(h,1/3)*a|0}for(t+="Â€";t[l]%64-56;)t+="\0";for(o=0;o<t[l];o++){if((i=t.charCodeAt(o))>>8)return;c[o>>2]|=i<<(3-o)%4*8}for(c[c[l]]=u/a|0,c[c[l]]=u,i=0;i<c[l];){var v=c.slice(i,i+=16),g=d;for(d=d.slice(0,8),o=0;o<64;o++){var y=v[o-15],b=v[o-2],w=d[0],S=d[4],k=d[7]+(n(S,6)^n(S,11)^n(S,25))+(S&d[5]^~S&d[6])+m[o]+(v[o]=o<16?v[o]:v[o-16]+(n(y,7)^n(y,18)^y>>>3)+v[o-7]+(n(b,17)^n(b,19)^b>>>10)|0);(d=[k+((n(w,2)^n(w,13)^n(w,22))+(w&d[1]^w&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+k|0}for(o=0;o<8;o++)d[o]=d[o]+g[o]|0}for(o=0;o<8;o++)for(i=3;i+1;i--){var E=d[o]>>8*i&255;s+=(E<16?0:"")+E.toString(16)}return s},P={sponsor:{color:"#00d400",opacity:"0.7",name:"sponsored segment"},intro:{color:"#00ffff",opacity:"0.7",name:"intro"},outro:{color:"#0202ed",opacity:"0.7",name:"outro"},interaction:{color:"#cc00ff",opacity:"0.7",name:"interaction reminder"},selfpromo:{color:"#ffff00",opacity:"0.7",name:"self-promotion"},music_offtopic:{color:"#ff9900",opacity:"0.7",name:"non-music part"}};class N{constructor(e){n(this,"video",null),n(this,"active",!0),n(this,"attachVideoTimeout",null),n(this,"nextSkipTimeout",null),n(this,"sliderInterval",null),n(this,"observer",null),n(this,"scheduleSkipHandler",null),n(this,"durationChangeHandler",null),n(this,"segments",null),n(this,"skippableCategories",[]),n(this,"manualSkippableCategories",[]),this.videoID=e}init(){var n,o=this;return(n=e().mark((function t(){var n,i,r,a,l;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T(o.videoID).substring(0,4),i=["sponsor","intro","outro","interaction","selfpromo","music_offtopic"],e.next=4,fetch(`https://sponsorblock.inf.re/api/skipSegments/${n}?categories=${encodeURIComponent(JSON.stringify(i))}`);case 4:return r=e.sent,e.next=7,r.json();case 7:if(a=e.sent,l=a.find((e=>e.videoID===o.videoID)),console.info(o.videoID,"Got it:",l),l&&l.segments&&l.segments.length){e.next=13;break}return console.info(o.videoID,"No segments found."),e.abrupt("return");case 13:o.segments=l.segments,o.manualSkippableCategories=u("sponsorBlockManualSkips"),o.skippableCategories=o.getSkippableCategories(),o.scheduleSkipHandler=()=>o.scheduleSkip(),o.durationChangeHandler=()=>o.buildOverlay(),o.attachVideo(),o.buildOverlay();case 20:case"end":return e.stop()}}),t)})),function(){var e=this,o=arguments;return new Promise((function(i,r){var a=n.apply(e,o);function l(e){t(a,i,r,l,s,"next",e)}function s(e){t(a,i,r,l,s,"throw",e)}l(void 0)}))})()}getSkippableCategories(){var e=[];return u("enableSponsorBlockSponsor")&&e.push("sponsor"),u("enableSponsorBlockIntro")&&e.push("intro"),u("enableSponsorBlockOutro")&&e.push("outro"),u("enableSponsorBlockInteraction")&&e.push("interaction"),u("enableSponsorBlockSelfPromo")&&e.push("selfpromo"),u("enableSponsorBlockMusicOfftopic")&&e.push("music_offtopic"),e}attachVideo(){if(clearTimeout(this.attachVideoTimeout),this.attachVideoTimeout=null,this.video=document.querySelector("video"),!this.video)return console.info(this.videoID,"No video yet..."),void(this.attachVideoTimeout=setTimeout((()=>this.attachVideo()),100));console.info(this.videoID,"Video found, binding..."),this.video.addEventListener("play",this.scheduleSkipHandler),this.video.addEventListener("pause",this.scheduleSkipHandler),this.video.addEventListener("timeupdate",this.scheduleSkipHandler),this.video.addEventListener("durationchange",this.durationChangeHandler)}buildOverlay(){if(this.segmentsoverlay)console.info("Overlay already built");else if(this.video&&this.video.duration){var e=this.video.duration;this.segmentsoverlay=document.createElement("div"),this.segments.forEach((t=>{var n=o(t.segment,2),i=n[0],r=n[1],a=P[t.category]||{color:"blue",opacity:.7},l=`translateX(${i/e*100}%) scaleX(${(r-i)/e})`,s=document.createElement("div");s.classList.add("ytlr-progress-bar__played"),s.style.background=a.color,s.style.opacity=a.opacity,s.style["-webkit-transform"]=l,console.info("Generated element",s,"from",t,l),this.segmentsoverlay.appendChild(s)})),this.observer=new MutationObserver((e=>{e.forEach((e=>{if(e.removedNodes){var t,n=a(e.removedNodes);try{for(n.s();!(t=n.n()).done;){t.value===this.segmentsoverlay&&(console.info("bringing back segments overlay"),this.slider.appendChild(this.segmentsoverlay))}}catch(e){n.e(e)}finally{n.f()}}}))})),this.sliderInterval=setInterval((()=>{this.slider=document.querySelector(".ytlr-progress-bar__slider"),this.slider&&(clearInterval(this.sliderInterval),this.sliderInterval=null,this.observer.observe(this.slider,{childList:!0}),this.slider.appendChild(this.segmentsoverlay))}),500)}else console.info("No video duration yet")}scheduleSkip(){if(clearTimeout(this.nextSkipTimeout),this.nextSkipTimeout=null,this.active)if(this.video.paused)console.info(this.videoID,"Currently paused, ignoring...");else{var e=this.segments.filter((e=>e.segment[0]>this.video.currentTime-.3&&e.segment[1]>this.video.currentTime-.3));if(e.sort(((e,t)=>e.segment[0]-t.segment[0])),e.length){var t=o(e,1)[0],n=o(t.segment,2),i=n[0],r=n[1];console.info(this.videoID,"Scheduling skip of",t,"in",i-this.video.currentTime),this.nextSkipTimeout=setTimeout((()=>{var e;if(this.video.paused)console.info(this.videoID,"Currently paused, ignoring...");else if(this.skippableCategories.includes(t.category)){var n=(null===(e=P[t.category])||void 0===e?void 0:e.name)||t.category;console.info(this.videoID,"Skipping",t),this.manualSkippableCategories.includes(t.category)||(f("SponsorBlock",`Skipping ${n}`),this.video.currentTime=r,this.scheduleSkip())}else console.info(this.videoID,"Segment",t.category,"is not skippable, ignoring...")}),1e3*(i-this.video.currentTime))}else console.info(this.videoID,"No more segments")}else console.info(this.videoID,"No longer active, ignoring...")}destroy(){console.info(this.videoID,"Destroying"),this.active=!1,this.nextSkipTimeout&&(clearTimeout(this.nextSkipTimeout),this.nextSkipTimeout=null),this.attachVideoTimeout&&(clearTimeout(this.attachVideoTimeout),this.attachVideoTimeout=null),this.sliderInterval&&(clearInterval(this.sliderInterval),this.sliderInterval=null),this.observer&&(this.observer.disconnect(),this.observer=null),this.segmentsoverlay&&(this.segmentsoverlay.remove(),this.segmentsoverlay=null),this.video&&(this.video.removeEventListener("play",this.scheduleSkipHandler),this.video.removeEventListener("pause",this.scheduleSkipHandler),this.video.removeEventListener("timeupdate",this.scheduleSkipHandler),this.video.removeEventListener("durationchange",this.durationChangeHandler))}}window.sponsorblock=null,window.addEventListener("hashchange",(()=>{var e=new URL(location.hash.substring(1),location.href).search.replace("?v=","").split("&")[0],t=e&&(!window.sponsorblock||window.sponsorblock.videoID!=e);if(console.info("hashchange",e,window.sponsorblock,window.sponsorblock?window.sponsorblock.videoID:null,t),t){if(window.sponsorblock){try{window.sponsorblock.destroy()}catch(e){console.warn("window.sponsorblock.destroy() failed!",e)}window.sponsorblock=null}u("enableSponsorBlock")?(window.sponsorblock=new N(e),window.sponsorblock.init()):console.info("SponsorBlock disabled, not loading")}}),!1),function(){if(!("navigate"in window)){var e={37:"left",38:"up",39:"right",40:"down"},t=null,n=null,o={element:null,rect:null},i=null;window.navigate=l,window.Element.prototype.spatialNavigationSearch=m,window.Element.prototype.focusableAreas=y,window.Element.prototype.getSpatialNavigationContainer=v,window.CSS&&CSS.registerProperty&&(""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-contain")&&CSS.registerProperty({name:"--spatial-navigation-contain",syntax:"auto | contain",inherits:!1,initialValue:"auto"}),""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-action")&&CSS.registerProperty({name:"--spatial-navigation-action",syntax:"auto | focus | scroll",inherits:!1,initialValue:"auto"}),""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-function")&&CSS.registerProperty({name:"--spatial-navigation-function",syntax:"normal | grid",inherits:!1,initialValue:"normal"})),z(!1),window.addEventListener("load",(()=>{r()}))}function r(){window.addEventListener("keydown",(o=>{var i=parent&&parent.__spatialNavigation__.keyMode||window.__spatialNavigation__.keyMode,r=document.activeElement,a=e[o.keyCode];if(9===o.keyCode&&(n=null),!(!i||"NONE"===i||"SHIFTARROW"===i&&!o.shiftKey||"ARROW"===i&&o.shiftKey||o.defaultPrevented)){var s={left:!0,up:!0,right:!0,down:!0};"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName||(s=function(t){var n=["email","date","month","number","time","week"],o=["password","text","search","tel","url",null],i=document.activeElement,r={left:!1,up:!1,right:!1,down:!1},a=e[t.keyCode];if(void 0===a)return r;if(!n.includes(i.getAttribute("type"))||"up"!==a&&"down"!==a)if(o.includes(i.getAttribute("type"))||"TEXTAREA"===i.nodeName){var l=i.selectionStart,s=i.selectionEnd;l===s&&(0===l&&(r.left=!0,r.up=!0),s===i.value.length&&(r.right=!0,r.down=!0))}else r[a]=!0;else r[a]=!0;return r}(o)),s[a]&&(o.preventDefault(),t=new Map,l(a),t=null,n=null)}})),document.addEventListener("mouseup",(e=>{n={x:e.clientX,y:e.clientY}})),window.addEventListener("focusin",(e=>{e.target!==window&&(o.element=e.target,o.rect=e.target.getBoundingClientRect())}))}function l(e){var t=function(){var e=document.activeElement;if(!e||e===document.body&&!document.querySelector(":focus")){if(o.element&&e!==o.element){var t=window.getComputedStyle(o.element,null),n=["hidden","collapse"];if(o.element.disabled||n.includes(t.getPropertyValue("visibility")))return e=o.element}e=document.documentElement}!o.element||0!==$(o.element).height&&0!==$(o.element).width||(i=o.rect);if(!L(e)){var r=g(e);if(r&&(r===window||"auto"===S(r)))return r}return e}(),r=t,a=null;n&&(null===(a=document.elementFromPoint(n.x,n.y))&&(a=document.body),_(a)&&!x(a)?n=null:r=x(a)?a:a.getSpatialNavigationContainer()),r!==document&&r!==document.documentElement||(r=document.body||document.documentElement);var l=null;if((x(r)||"BODY"===r.nodeName)&&"INPUT"!==r.nodeName){"IFRAME"===r.nodeName&&(r=r.contentDocument.documentElement),l=r;if(document.activeElement===t||document.activeElement===document.body&&t===document.documentElement){if("scroll"===S(r)){if(c(r,e))return}else if("focus"===S(r)){if(s(r.spatialNavigationSearch(e,{container:r,candidates:u(r,{mode:"all"})}),e))return}else if("auto"===S(r)&&(s(r.spatialNavigationSearch(e,{container:r}),e)||c(r,e)))return}else l=l.getSpatialNavigationContainer()}var d=(l=r.getSpatialNavigationContainer()).parentElement?l.getSpatialNavigationContainer():null;if(d||window.location===window.parent.location||(d=window.parent.document.documentElement),"scroll"===S(l)){if(c(l,e))return}else"focus"===S(l)?k(r,l,d,e,"all"):"auto"===S(l)&&k(r,l,d,e,"visible")}function s(e,t){if(e){if(!b("beforefocus",e,null,t))return!0;var o=e.getSpatialNavigationContainer();return o!==window&&"focus"===S(o)?e.focus():e.focus({preventScroll:!0}),n=null,!0}return!1}function c(e,t){return P(e,t)&&!R(e,t)?(E(e,t),!0):!e.parentElement&&!I(e,t)&&(E(e.ownerDocument.documentElement,t),!0)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mode:"visible"},n=[];if(e.childElementCount>0){e.parentElement||(e=e.getElementsByTagName("body")[0]||document.body);var o,i=a(e.children);try{for(i.s();!(o=i.n()).done;){var r=o.value;C(r)?n.push(r):_(r)?(n.push(r),!x(r)&&r.childElementCount&&(n=n.concat(u(r,{mode:"all"})))):r.childElementCount&&(n=n.concat(u(r,{mode:"all"})))}}catch(e){i.e(e)}finally{i.f()}}return"all"===t.mode?n:n.filter(A)}function d(e,t,n,o){var i=e;return o=o||i.getSpatialNavigationContainer(),p(i,n=!n||n.length<=0?u(o):n,t,o)}function m(e,t){var o,r=this,a=[],l=[],s=function(e){var t=e.getSpatialNavigationContainer(),n=t.focusableAreas(),o=[];return n.forEach((t=>{e!==t&&O(t,e)&&o.push(t)})),o}(r);t||(t={});var c=r.getSpatialNavigationContainer(),m=u(c),p=t.container||c;t.container&&c.contains(t.container)&&(m=m.concat(u(p)));var v=t.candidates&&t.candidates.length>0?t.candidates.filter((e=>p.contains(e))):m.filter((e=>p.contains(e)&&p!==e));if(v&&v.length>0){v.forEach((e=>{e!==r&&(r.contains(e)&&r!==e?a:l).push(e)}));var g=s.filter((e=>!a.includes(e))),y=v.filter((e=>x(e)&&O(r,e))).map((e=>e.focusableAreas())).flat().filter((e=>e!==r));if(a=a.concat(g).filter((e=>p.contains(e))),(l=l.concat(y).filter((e=>p.contains(e)))).length>0&&(l=d(r,e,l,p)),i&&(o=f(r,d(r,e,a,p),e)),a&&a.length>0&&"INPUT"!==r.nodeName&&(o=function(e,t,o){return h(e,t,o,n?F:j)}(r,a,e)),(o=o||f(r,l,e))&&C(o)){var b=u(o,{mode:"all"}),w=b.length>0?r.spatialNavigationSearch(e,{candidates:b,container:o}):null;w?o=w:_(o)||(v.splice(v.indexOf(o),1),o=v.length?r.spatialNavigationSearch(e,{candidates:v,container:p}):null)}return o}return null}function p(e,t,n,o){var r,a=e.getSpatialNavigationContainer();return void 0===n?t:(r=a.parentElement&&o!==a&&!A(e)?$(a):i||$(e),!x(e)&&"BODY"!==e.nodeName||"INPUT"===e.nodeName?t.filter((t=>{var i=$(t),a="IFRAME"===t.nodeName?t.contentDocument.body:null;return o.contains(t)&&t!==e&&a!==e&&D(i,r,n)&&!B(r,i)})):t.filter((t=>{var i=$(t);return o.contains(t)&&(e.contains(t)&&B(r,i)&&t!==e||D(i,r,n))})))}function f(e,t,n){var o,r,a=e.getSpatialNavigationContainer(),l=getComputedStyle(a).getPropertyValue("--spatial-navigation-function"),s=i||$(e);if("grid"===l)(r=t.filter((e=>U(s,$(e),n)))).length>0&&(t=r),o=W;else o=q;return h(e,t,n,o)}function h(e,t,n,o){var r=null;window.location===window.parent.location||"BODY"!==e.nodeName&&"HTML"!==e.nodeName?r=i||e.getBoundingClientRect():((r=window.frameElement.getBoundingClientRect()).x=0,r.y=0);var a=Number.POSITIVE_INFINITY,l=[];if(t)for(var s=0;s<t.length;s++){var c=o(r,$(t[s]),n);c<a?(a=c,l=[t[s]]):c===a&&l.push(t[s])}return 0===l.length?null:l.length>1&&o===W?h(e,l,n,Y):l[0]}function v(){var e=this;do{if(!e.parentElement){e=window.location!==window.parent.location?window.parent.document.documentElement:window.document.documentElement;break}e=e.parentElement}while(!x(e));return e}function g(e){var t=e;do{if(!t.parentElement){t=window.location!==window.parent.location?window.parent.document.documentElement:window.document.documentElement;break}t=t.parentElement}while(!T(t)||!A(t));return t!==document&&t!==document.documentElement||(t=window),t}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mode:"visible"},t=this.parentElement?this:document.body,n=Array.prototype.filter.call(t.getElementsByTagName("*"),_);return"all"===e.mode?n:n.filter(A)}function b(e,t,n,o){if(["beforefocus","notarget"].includes(e)){var i=new CustomEvent("nav"+e,{bubbles:!0,cancelable:!0,detail:{causedTarget:n,dir:o}});return t.dispatchEvent(i)}}function w(e,t){return(e.style.getPropertyValue(`--${t}`)||"").trim()}function S(e){return w(e,"spatial-navigation-action")||"auto"}function k(e,t,n,o,i){for(var r={candidates:u(t,{mode:i}),container:t};n;){if(s(e.spatialNavigationSearch(o,r),o))return;if("visible"===i&&c(t,o))return;if(!b("notarget",t,e,o))return;t===document||t===document.documentElement?window.location!==window.parent.location&&(t=(e=window.frameElement).ownerDocument.documentElement):t=n,r={candidates:u(t,{mode:i}),container:t};var a=t.getSpatialNavigationContainer();n=a!==t?a:null}r={candidates:u(t,{mode:i}),container:t},!n&&t&&s(e.spatialNavigationSearch(o,r),o)||b("notarget",r.container,e,o)&&("auto"!==S(t)||"visible"!==i||c(t,o))}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e)switch(t){case"left":e.scrollLeft-=40+n;break;case"right":e.scrollLeft+=40+n;break;case"up":e.scrollTop-=40+n;break;case"down":e.scrollTop+=40+n}}function x(e){return!e.parentElement||"IFRAME"===e.nodeName||T(e)||function(e){return"contain"===w(e,"spatial-navigation-contain")}(e)}function C(e){return"delegable"===w(e,"spatial-navigation-contain")}function T(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("overflow-x"),o=t.getPropertyValue("overflow-y");return!!("visible"!==n&&"clip"!==n&&N(e,"left")||"visible"!==o&&"clip"!==o&&N(e,"down"))}function P(e,t){if(e&&"object"==typeof e){if(t&&"string"==typeof t){if(N(e,t)){var n=window.getComputedStyle(e,null),o=n.getPropertyValue("overflow-x"),i=n.getPropertyValue("overflow-y");switch(t){case"left":case"right":return"visible"!==o&&"clip"!==o&&"hidden"!==o;case"up":case"down":return"visible"!==i&&"clip"!==i&&"hidden"!==i}}return!1}return"HTML"===e.nodeName||"BODY"===e.nodeName||T(e)&&N(e)}}function N(e,t){if(e&&"object"==typeof e){if(!t||"string"!=typeof t)return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight;switch(t){case"left":case"right":return e.scrollWidth>e.clientWidth;case"up":case"down":return e.scrollHeight>e.clientHeight}return!1}}function I(e,t){var n=!1;switch(t){case"left":n=0===e.scrollLeft;break;case"right":n=e.scrollWidth-e.scrollLeft-e.clientWidth==0;break;case"up":n=0===e.scrollTop;break;case"down":n=e.scrollHeight-e.scrollTop-e.clientHeight==0}return n}function R(e,t){if(P(e,t)){var n=e.scrollTop,o=e.scrollLeft,i=e.scrollHeight-e.clientHeight,r=e.scrollWidth-e.clientWidth;switch(t){case"left":return 0===o;case"right":return Math.abs(o-r)<=1;case"up":return 0===n;case"down":return Math.abs(n-i)<=1}}return!1}function L(e){var t=e.getBoundingClientRect(),n=g(e),o=null;return!(!B(o=n!==window?$(n):new DOMRect(0,0,window.innerWidth,window.innerHeight),t)||!B(o,t))}function _(e){return!(e.tabIndex<0||function(e){return"A"===e.tagName&&null===e.getAttribute("href")&&null===e.getAttribute("tabIndex")}(e)||function(e){return!!["BUTTON","INPUT","SELECT","TEXTAREA","OPTGROUP","OPTION","FIELDSET"].includes(e.tagName)&&e.disabled}(e)||function(e){return e.inert&&!e.ownerDocument.documentElement.inert}(e)||!function(e){return!!M(e.parentElement)&&!(!M(e)||"0"===e.style.opacity||"0px"===window.getComputedStyle(e).height||"0px"===window.getComputedStyle(e).width)}(e))&&(!!(!e.parentElement||P(e)&&N(e)||e.tabIndex>=0)||void 0)}function A(e){return!e.parentElement||M(e)&&function(e){var t=$(e);if("IFRAME"!==e.nodeName&&(t.top<0||t.left<0||t.top>e.ownerDocument.documentElement.clientHeight||t.left>e.ownerDocument.documentElement.clientWidth))return!1;var n=parseInt(e.offsetWidth)/10,o=parseInt(e.offsetHeight)/10;n=isNaN(n)?1:n,o=isNaN(o)?1:o;var i={middle:[(t.left+t.right)/2,(t.top+t.bottom)/2],leftTop:[t.left+n,t.top+o],rightBottom:[t.right-n,t.bottom-o]};for(var r in i){var a=e.ownerDocument.elementFromPoint(...i[r]);if(e===a||e.contains(a))return!0}return!1}(e)}function O(e,t){var n=$(e),o=$(t||e.getSpatialNavigationContainer());return!(n.left<o.left||n.right>o.right||n.top<o.top||n.bottom>o.bottom)}function M(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("visibility");return"none"!==t.getPropertyValue("display")&&!["hidden","collapse"].includes(n)}function B(e,t){var n=e.left<=t.right&&e.right>=t.right,o=e.left<=t.left&&e.right>=t.left,i=e.top<=t.top&&e.bottom>=t.top,r=e.top<=t.bottom&&e.bottom>=t.bottom;return(n||o)&&(i||r)}function D(e,t,n){switch(n){case"left":return H(t,e);case"right":return H(e,t);case"up":return V(t,e);case"down":return V(e,t);default:return!1}}function H(e,t){return e.left>=t.right||e.left>=t.left&&e.right>t.right&&e.bottom>t.top&&e.top<t.bottom}function V(e,t){return e.top>=t.bottom||e.top>=t.top&&e.bottom>t.bottom&&e.left<t.right&&e.right>t.left}function U(e,t,n){switch(n){case"left":case"right":return e.bottom>t.top&&e.top<t.bottom;case"up":case"down":return e.right>t.left&&e.left<t.right;default:return!1}}function F(e,t,o){var i=K(o,n,t),r=Math.abs(i.entryPoint.x-i.exitPoint.x),a=Math.abs(i.entryPoint.y-i.exitPoint.y);return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}function j(e,t,n){var o={left:"right",right:"left",up:"bottom",down:"top"}[n];return Math.abs(e[o]-t[o])}function q(e,t,n){var o,i,r=0,a=0,l=K(n,e,t),s=Math.abs(l.entryPoint.x-l.exitPoint.x),c=Math.abs(l.entryPoint.y-l.exitPoint.y),u=Math.sqrt(Math.pow(s,2)+Math.pow(c,2)),d=function(e,t){var n={width:0,height:0,area:0},o=[Math.max(e.left,t.left),Math.max(e.top,t.top)],i=[Math.min(e.right,t.right),Math.min(e.bottom,t.bottom)];n.width=Math.abs(o[0]-i[0]),n.height=Math.abs(o[1]-i[1]),o[0]>=i[0]||o[1]>=i[1]||(n.area=Math.sqrt(n.width*n.height));return n}(e,t),m=d.area;switch(n){case"left":case"right":U(e,t,n)?a=Math.min(d.height/e.height,1):r=e.height/2,o=30*(c+r),i=5*a;break;case"up":case"down":U(e,t,n)?a=Math.min(d.width/e.width,1):r=e.width/2,o=2*(s+r),i=5*a;break;default:o=0,i=0}return u+o-i-m}function Y(e,t,n){var o=K(n,e,t),i=Math.abs(o.entryPoint.x-o.exitPoint.x),r=Math.abs(o.entryPoint.y-o.exitPoint.y);return Math.sqrt(Math.pow(i,2)+Math.pow(r,2))}function W(e,t,n){var o=K(n,e,t);return"left"===n||"right"===n?Math.abs(o.entryPoint.x-o.exitPoint.x):Math.abs(o.entryPoint.y-o.exitPoint.y)}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,i={entryPoint:{x:0,y:0},exitPoint:{x:0,y:0}};if(n){switch(i.exitPoint=t,e){case"left":i.entryPoint.x=o.right;break;case"up":i.entryPoint.y=o.bottom;break;case"right":i.entryPoint.x=o.left;break;case"down":i.entryPoint.y=o.top}switch(e){case"left":case"right":n.y<=o.top?i.entryPoint.y=o.top:n.y<o.bottom?i.entryPoint.y=n.y:i.entryPoint.y=o.bottom;break;case"up":case"down":n.x<=o.left?i.entryPoint.x=o.left:n.x<o.right?i.entryPoint.x=n.x:i.entryPoint.x=o.right}}else{switch(e){case"left":i.exitPoint.x=t.left,i.entryPoint.x=o.right<t.left?o.right:t.left;break;case"up":i.exitPoint.y=t.top,i.entryPoint.y=o.bottom<t.top?o.bottom:t.top;break;case"right":i.exitPoint.x=t.right,i.entryPoint.x=o.left>t.right?o.left:t.right;break;case"down":i.exitPoint.y=t.bottom,i.entryPoint.y=o.top>t.bottom?o.top:t.bottom}switch(e){case"left":case"right":V(t,o)?(i.exitPoint.y=t.top,i.entryPoint.y=o.bottom<t.top?o.bottom:t.top):V(o,t)?(i.exitPoint.y=t.bottom,i.entryPoint.y=o.top>t.bottom?o.top:t.bottom):(i.exitPoint.y=Math.max(t.top,o.top),i.entryPoint.y=i.exitPoint.y);break;case"up":case"down":H(t,o)?(i.exitPoint.x=t.left,i.entryPoint.x=o.right<t.left?o.right:t.left):H(o,t)?(i.exitPoint.x=t.right,i.entryPoint.x=o.left>t.right?o.left:t.right):(i.exitPoint.x=Math.max(t.left,o.left),i.entryPoint.x=i.exitPoint.x)}}return i}function $(e){var n=t&&t.get(e);if(!n){var o=e.getBoundingClientRect();n={top:Number(o.top.toFixed(2)),right:Number(o.right.toFixed(2)),bottom:Number(o.bottom.toFixed(2)),left:Number(o.left.toFixed(2)),width:Number(o.width.toFixed(2)),height:Number(o.height.toFixed(2))},t&&t.set(e,n)}return n}function z(e){var t=window.__spatialNavigation__&&window.__spatialNavigation__.keyMode;window.__spatialNavigation__=!1===e?G():Object.assign(G(),function(){function e(e,t){return P(e,t)&&!R(e,t)||!e.parentElement&&!I(e,t)}function t(t,n,o,i){var r=n,a=null;if(r!==document&&r!==document.documentElement||(r=document.body||document.documentElement),(x(r)||"BODY"===r.nodeName)&&"INPUT"!==r.nodeName){"IFRAME"===r.nodeName&&(r=r.contentDocument.body);var l=u(r,i);if(Array.isArray(l)&&l.length>0)return t?d(r,o,l):r.spatialNavigationSearch(o,{candidates:l});if(e(r,o))return t?[]:r}var s=r.getSpatialNavigationContainer(),c=s.parentElement?s.getSpatialNavigationContainer():null;for(c||window.location===window.parent.location||(c=window.parent.document.documentElement);c;){var m=p(r,u(s,i),o,s);if(Array.isArray(m)&&m.length>0){if(a=r.spatialNavigationSearch(o,{candidates:m,container:s}))return t?m:a}else{if(e(s,o))return t?[]:r;if(s===document||s===document.documentElement){if(s=window.document.documentElement,window.location!==window.parent.location){if(r=window.frameElement,!(s=window.parent.document.documentElement).parentElement){c=null;break}c=s.getSpatialNavigationContainer()}}else{if(_(s)&&(r=s),!(s=c).parentElement){c=null;break}c=s.getSpatialNavigationContainer()}}}if(!c&&s){var f=p(r,u(s,i),o,s);if(Array.isArray(f)&&f.length>0&&(a=r.spatialNavigationSearch(o,{candidates:f,container:s})))return t?f:a}if(e(s,o))return r}return{isContainer:x,isScrollContainer:T,isVisibleInScroller:L,findCandidates:t.bind(null,!0),findNextTarget:t.bind(null,!1),getDistanceFromTarget:(e,t,n)=>(x(e)||"BODY"===e.nodeName)&&"INPUT"!==e.nodeName&&u(e).includes(t)?j($(e),$(t),n):q($(e),$(t),n)}}()),window.__spatialNavigation__.keyMode=t,Object.seal(window.__spatialNavigation__)}function G(){return{enableExperimentalAPIs:z,get keyMode(){return this._keymode?this._keymode:"ARROW"},set keyMode(e){this._keymode=["SHIFTARROW","ARROW","NONE"].includes(e)?e:"ARROW"},setStartingPoint:function(e,t){n=e&&t?{x:e,y:t}:null}}}}();var I=".ytaf-ui-container {\r\n  position: absolute;\r\n  top: 10%;\r\n  left: 10%;\r\n  right: 10%;\r\n  bottom: 10%;\r\n\r\n  background: rgba(0, 0, 0, 0.8);\r\n  color: white;\r\n  border-radius: 20px;\r\n  padding: 20px;\r\n  font-size: 1.5rem;\r\n  z-index: 1000;\r\n}\r\n\r\n.ytaf-ui-container :focus {\r\n  outline: 4px red solid;\r\n}\r\n\r\n.ytaf-ui-container h1 {\r\n  margin: 0;\r\n  margin-bottom: 0.5em;\r\n  text-align: center;\r\n}\r\n\r\n.ytaf-ui-container input[type='checkbox'] {\r\n  width: 1.4rem;\r\n  height: 1.4rem;\r\n}\r\n\r\n.ytaf-ui-container input[type='radio'] {\r\n  width: 1.4rem;\r\n  height: 1.4rem;\r\n}\r\n\r\n.ytaf-ui-container label {\r\n  display: block;\r\n  font-size: 1.4rem;\r\n}\r\n\r\n.ytaf-notification-container {\r\n  position: absolute;\r\n  right: 10px;\r\n  bottom: 10px;\r\n  font-size: 16pt;\r\n  z-index: 1200;\r\n}\r\n\r\n.ytaf-notification-container .message {\r\n  background: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  padding: 1em;\r\n  margin: 0.5em;\r\n  transition: all 0.3s ease-in-out;\r\n  opacity: 1;\r\n  line-height: 1;\r\n  border-right: 10px solid rgba(50, 255, 50, 0.3);\r\n  display: inline-block;\r\n  float: right;\r\n}\r\n\r\n.ytaf-notification-container .message-hidden {\r\n  opacity: 0;\r\n  margin: 0 0.5em;\r\n  padding: 0 1em;\r\n  line-height: 0;\r\n}\r\n\r\n/* Fixes transparency effect for the video player */\r\n\r\n.ytLrWatchDefaultShadow {\r\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0, rgba(0, 0, 0, 0.8) 90%) !important;\r\n  background-color: rgba(0, 0, 0, 0.3) !important;\r\n  display: block !important;\r\n  height: 100% !important;\r\n  pointer-events: none !important;\r\n  position: absolute !important;\r\n  width: 100% !important;\r\n}\r\n\r\n/* Fixes shorts having a black background */\r\n\r\n.ytLrTileHeaderRendererShorts {\r\n  background-image: none !important;\r\n}",R=document.createElement("style"),L="";function _(){L=`\n    ytlr-guide-response yt-focus-container {\n        background-color: ${u("focusContainerColor")};\n    }\n\n    #container {\n        background-color: ${u("routeColor")} !important;\n    }\n`;var e=document.querySelector("style[nonce]");e?e.textContent+=L:R.textContent=L}document.head.appendChild(R),_();var A=setInterval((()=>{document.querySelector("video")&&(!function(){var e=document.querySelector("style[nonce]");if(e)e.textContent+=I;else{var t=document.createElement("style");t.textContent=I,document.head.appendChild(t)}if(u("enableFixedUI"))try{window.tectonicConfig.featureSwitches.isLimitedMemory=!1,window.tectonicConfig.clientData.legacyApplicationQuality="full-animation",window.tectonicConfig.featureSwitches.enableAnimations=!0,window.tectonicConfig.featureSwitches.enableOnScrollLinearAnimation=!0,window.tectonicConfig.featureSwitches.enableListAnimations=!0}catch(e){}window.__spatialNavigation__.keyMode="NONE";var n={37:"left",38:"up",39:"right",40:"down"},o=document.createElement("div");o.classList.add("ytaf-ui-container"),o.style.display="none",o.setAttribute("tabindex",0),o.addEventListener("focus",(()=>console.info("uiContainer focused!")),!0),o.addEventListener("blur",(()=>console.info("uiContainer blured!")),!0),o.addEventListener("keydown",(e=>{if(console.info("uiContainer key event:",e.type,e.keyCode,e),404!==e.keyCode&&172!==e.keyCode){var t;if(e.keyCode in n)navigate(n[e.keyCode]);else{if(13===e.keyCode||32===e.keyCode){console.log("OK button pressed");var i=document.querySelector(":focus");return"checkbox"===i.type&&(i.checked=!i.checked,i.dispatchEvent(new Event("change"))),e.preventDefault(),void e.stopPropagation()}if(27===e.keyCode&&"text"!==document.querySelector(":focus").type)o.style.display="none",o.blur();else if("text"===document.querySelector(":focus").type&&27===e.keyCode){var r=document.querySelector(":focus");r.value=r.value.slice(0,-1)}}"Enter"!==e.key&&"Enter"!==(null===(t=e.Uc)||void 0===t?void 0:t.key)||"text"===document.querySelector(":focus").type&&document.querySelector(":focus").dispatchEvent(new Event("change"))}}),!0),o.innerHTML='\n<h1>TizenTubeZx111 Theme Configuration</h1>\n<audio controls>\n  <source src="https://github.com/kaczy1233/TizenTubeZx/raw/refs/heads/main/dist/loop.wav" type="audio/wav">\n  Your browser does not support the audio element.\n</audio>\n<label for="__barColor">Navigation Bar Color: <input type="text" id="__barColor"/></label>\n<label for="__routeColor">Main Content Color: <input type="text" id="__routeColor"/></label>\n<div><small>Sponsor segments skipping - https://sponsor.ajay.app</small></div>\n',document.querySelector("body").appendChild(o),o.querySelector("#__barColor").value=u("focusContainerColor"),o.querySelector("#__barColor").addEventListener("change",(e=>{d("focusContainerColor",e.target.value),_()})),o.querySelector("#__routeColor").value=u("routeColor"),o.querySelector("#__routeColor").addEventListener("change",(e=>{d("routeColor",e.target.value),_()}));var i=e=>{if(console.info("Key event:",e.type,e.keyCode,e.keyCode,e.defaultPrevented),403==e.keyCode){if(console.info("Taking over!"),e.preventDefault(),e.stopPropagation(),"keydown"===e.type)if("none"===o.style.display)console.info("Showing and focusing!"),o.style.display="block",o.focus(),new Audio("https://github.com/kaczy1233/ttz2/raw/refs/heads/main/dist/loop.wav").play();else console.info("Hiding!"),o.style.display="none",o.blur();return!1}return 404==e.keyCode&&"keydown"===e.type&&y(),!0};if(document.addEventListener("keydown",i,!0),document.addEventListener("keypress",i,!0),document.addEventListener("keyup",i,!0),setTimeout((()=>{f("Welcome to TizenTube","Press [GREEN] to open TizenTube Settings, press [BLUE] to open Video Speed Settings and press [RED] to open TizenTube Theme Settings.")}),2e3),u("enableFixedUI"))try{new MutationObserver(((e,t)=>{var n=document.body;n.classList.contains("app-quality-root")&&n.classList.remove("app-quality-root")})).observe(document.body,{attributes:!0,childList:!1,subtree:!1})}catch(e){}}(),function(){var e=function(){if(window._yttv[t]&&window._yttv[t].instance&&window._yttv[t].instance.resolveCommand){var e=window._yttv[t].instance.resolveCommand;window._yttv[t].instance.resolveCommand=function(t,n){var o;if(t.setClientSettingEndpoint){var i,r=a(t.setClientSettingEndpoint.settingDatas);try{for(r.s();!(i=r.n()).done;)if(!i.value.clientSettingEnum.item.includes("_")){var l,s=a(t.setClientSettingEndpoint.settingDatas);try{for(s.s();!(l=s.n()).done;){var c=l.value,m=Object.keys(c).find((e=>e.includes("Value"))),p="intValue"===m?Number(c[m]):c[m];if("arrayValue"===m){var f=u(c.clientSettingEnum.item);f.includes(p)?f.splice(f.indexOf(p),1):f.push(p),d(c.clientSettingEnum.item,f)}else d(c.clientSettingEnum.item,p)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){r.e(e)}finally{r.f()}}else{if(t.customAction)return w(t.customAction.action,t.customAction.parameters),!0;if(null!=t&&null!==(o=t.showEngagementPanelEndpoint)&&void 0!==o&&o.customAction)return w(t.showEngagementPanelEndpoint.customAction.action,t.showEngagementPanelEndpoint.customAction.parameters),!0}return e.call(this,t,n)}}};for(var t in window._yttv)e()}(),clearInterval(A))}),250);var O=setInterval((()=>{document.querySelector("video")&&(!function(){document.querySelector("video").addEventListener("canplay",(()=>{document.getElementsByTagName("video")[0].playbackRate=u("videoSpeed")}));var e=e=>{var t=u("videoSpeed");if(406==e.keyCode||191==e.keyCode){if(e.preventDefault(),e.stopPropagation(),"keydown"===e.type){for(var n=0,o=4,i=.25,r=[],l=i;l<=o;l+=i)r.push(v({title:`${l}x`},null,[{signalAction:{signal:"POPUP_BACK"}},{setClientSettingEndpoint:{settingDatas:[{clientSettingEnum:{item:"videoSpeed"},intValue:l.toString()}]}}])),t===l&&(n=r.length-1);return r.push(v({title:"Fix stuttering (1.0001x)"},null,[{signalAction:{signal:"POPUP_BACK"}},{setClientSettingEndpoint:{settingDatas:[{clientSettingEnum:{item:"videoSpeed"},intValue:"1.0001"}]}}])),h("Playback Speed",r,n,"tt-speed"),new MutationObserver(((e,t)=>{var n,o=null,i=a(document.getElementsByTagName("yt-formatted-string"));try{for(i.s();!(n=i.n()).done;){var r=n.value;if("Playback Speed"===r.innerText){o=r;break}}}catch(e){i.e(e)}finally{i.f()}o||(document.getElementsByTagName("video")[0].playbackRate=u("videoSpeed"),t.disconnect())})).observe(document.body,{childList:!0,subtree:!0}),!1}return!0}};document.addEventListener("keydown",e,!0),document.addEventListener("keypress",e,!0),document.addEventListener("keyup",e,!0)}(),clearInterval(O))}),1e3)}();
